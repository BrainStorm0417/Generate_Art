<!DOCTYPE html>
<html>
<head>
	<title>Pt</title>
	<link href="./assets/style.css" rel="stylesheet" type="text/css" />
<meta charset="UTF-8">
</head>

<body>

<a href="#menu" id="toc">&#x2261;</a>
<div id="post"><h1>Pt</h1>
<p>A <code>Pt</code> represents a point in space, or more technically, an <em>n</em>-dimensional vector. You may also think of a Pt as an array of numeric values, or like an arrow coming from the origin point (0,0,0...).</p>
<h3>Creating a Pt</h3>
<p>You can create a <code>Pt</code> in different ways:</p>
<pre><code>new Pt()
new Pt( 1, 2, 3, 4 )  
new Pt( [1,2,3] )
new Pt( {x:0, y:1, z:2, w:3} )
new Pt( anotherPt )
Pt.make( 5, 0 ) // same as new Pt(0,0,0,0,0)
</code></pre>
<p><code>Pt</code> is implemented as a subclass of javascript's <code>Float32Array</code>. That means you may use all the <code>Float32Array</code> features on a <code>Pt</code> too. For example:</p>
<pre><code>p[0]
pt.fill( 0, 1, 2 )
pt.reduce( (a,b) =&gt; Math.max(a,b), 0 );
</code></pre>
<h5>Note that some <code>Float32Array</code> functions return a new <code>Float32Array</code>. You may cast it back to <code>Pt</code> by a simple wrapping:</h5>
<pre><code>new Pt( pt.slice(1,3) )
pt.$slice(1,3) // or alternatively, use $slice
</code></pre>
<h3>Updating values</h3>
<p>Let's first look at how you may change a <code>Pt</code>'s values. It's like moving a Pt to another position. The simplest ways are to use <code>to</code> function or access the <code>x, y, z, w</code> properties:</p>
<pre><code>pt.to(1,2,3)
pt.to( anotherPt )
p.w = p.x + p.z
</code></pre>
<h3>Calculating values</h3>
<p><code>Pt</code> provides functions for vector arithmetics, which is to say, you can perform calculations on arrays of values like adding or multiplying them.</p>
<pre><code>pt.add( 1, 2 )
pt.divide( 5 ) // divide each value by 5
pt.multiply( {x: 2, y: 1} )
pt.subtract( anotherPt ).multiply( 5 ).add( [1,2,3] )
</code></pre>
<p>The above functions will update the values of the object <code>pt</code>. If you want to get the results as a new Pt, using <code>$add</code> etc instead.</p>
<pre><code>let s = pt.$add( 1,2,3 );
let b = pt.$multiply( 5 ).add( 1,2,3 )

</code></pre>
<p>There are other basic vector operations like <code>unit</code> (get a normalized vector), <code>magnitude</code> (get its distance from origin), <code>dot</code> (find dot product), <code>$project</code> (find its projection vector). Check the docs for a full list.</p>
<h3>Angles</h3>
<p>Since a <code>Pt</code> can be thought of as an arrow from origin, you can find its angle with <code>angle</code> function. You can also find the angle between two <code>Pt</code>s with <code>angleBetween</code> function. A related function <code>toAngle()</code> lets you move a <code>Pt</code> by specifying a target angle.</p>
<pre><code>pt.angle()
pt.angle(Const.yz) // get the angle of axis y-z
pt.angleBetween( anotherPt )
pt.toAngle( Math.PI/2 )
</code></pre>
<h5>Note that all angles are specified in radian, where 180 degrees = <em>Ï€</em> radian. You can use <code>Num.toRadian</code> and <code>Num.toDegree</code> functions to convert between degrees and radian.</h5>
<h3>Transformations</h3>
<p>If you use Illustrator or other graphics software, you'll probably know operations to rotate or scale a shape. Pt also provides these transformation functions:</p>
<pre><code>pt.scale( 0.5 )
pt.rotate2D( Math.PI/3 )
pt.shear2D( [0.3, 1.2] )
pt.reflect2D( [p1, p2] ) 
</code></pre>
<p>If you want to transform from a specific anchor point instead of at (0,0), provide an anchor as the second parameter:</p>
<pre><code>pt.scale( 0.5, anchorPt )
pt.rotate( Math.PI/3, anchorPt )
</code></pre>
<p>Another common way is to transform a <code>Pt</code> is to use <code>$map(...)</code> with a custom transform function. This is similar to Array's <code>map(...)</code> function.</p>
<pre><code>let np = pt.$map( (d) =&gt; d*d )
</code></pre>
<h5>(Note that you may still use <code>map</code> but it will return a <code>Float32Array</code> instead of a <code>Pt</code>)</h5>
<pre><code>let np = new Pt( pt.map( (d) =&gt; d*d ) // same result as pt.$map(...)
</code></pre>
<p><img src="./assets/hat.png" alt="js:pt_angle"></p>
<p><img src="./assets/cd.png" alt="test2.js"></p>
</div>

<ol id="menu"><a id="close" href="#">&times;</a><li><a href="_0010_Pt.html">Pt</a></li></ol>

<script type="text/javascript" src="../dist/pts.js"></script>
<script type="text/javascript" src="./js/guide.js"></script>

</body>
</html>