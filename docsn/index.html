<html>
  <head>
    <script type="text/javascript" src="./js/vue.js"></script>
    <script type="text/javascript" src="./js/marked.min.js"></script>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    
    <div id="docapp">

      <div id="modules">
          <div v-for="m in modules">
            <h4>{{ m[0] }}</h4>
            <div class="item" v-for="c in m[1]" v-on:click="loadClass( m[0], c )">
              <span v-bind:class="{selected: m[0]+'_'+c === selected }">{{ c }}</span>
            </div>
          </div>
      </div>

      <div id="members" v-bind:class="{collapsed: contents.count < 5}">
        <h4 v-if="contents.constructor && contents.constructor.length > 0">Constructor</h4>
        <div v-for="m in contents.constructor">
          <span v-bind:class="{inherits: m.inherits}" v-on:click="jumpTo( 'constructor_'+m.name )">{{ m.name }}</span>
        </div>

        <h4 v-if="contents.accessors && contents.accessors.length > 0">Accessors</h4>
        <div v-for="m in contents.accessors">
          <span v-bind:class="{inherits: m.inherits}" v-on:click="jumpTo( 'accessor_'+m.name )">{{ m.name }}</span>
        </div>

        <h4 v-if="(contents.variables && contents.variables.length > 0) || (contents.properties && contents.properties.length > 0)">Properties</h4>
        <div v-for="m in contents.variables">
          <span v-bind:class="{inherits: m.inherits}" v-on:click="jumpTo( 'property_'+m.name )">{{ m.name }}</span>
        </div>
        <div v-for="m in contents.properties">
          <span v-bind:class="{inherits: m.inherits}" v-on:click="jumpTo( 'property_'+m.name )">{{ m.name }}</span>
        </div>

        <h4 v-if="contents.methods && contents.methods.length > 0">Functions</h4>
        <div v-for="m in contents.methods">
          <span v-bind:class="{inherits: m.inherits}" v-on:click="jumpTo( 'function_'+m.name )">{{ m.name }}</span>
        </div>

        <h4 v-if="contents.type_alias && contents.type_alias.length > 0">Types</h4>
        
      </div>
      
      <div id="contents" v-bind:class="{expanded: contents.count > 5}">

        <h1>{{ contents.name }} <span :class="'token t_'+contents.kind">{{ contents.kind}}</span></h1>
        
        <p v-html="md(contents.comment)" />
        <div>
          <small v-if="contents.extends && contents.extends.length > 0">extends {{ contents.extends.join(", ") }}</small>
          <small v-if="contents.implements && contents.implements.length > 0">implements {{ contents.implements.join(", ") }}</small>
        </div>

        <div v-if="contents.constructor && contents.constructor.length > 0">
          <h3>Constructor</h3>
          <div v-for="m in contents.constructor">
            <h4 v-bind:id="'constructor_'+m.name">{{ m.name }}</h4>
            <div>
              <small v-if="m.overrides">Overrides {{ m.overrides }}</small>
              <small v-if="m.inherits">Inherits {{ m.inherits }}</small>
            </div>
            <div>
              <div v-for="s in m.signatures">
                <div v-html="md(s.comment)"></div>
                <div v-for="p in s.parameters">
                    <span>{{ p.name }} : {{ p.type}}</span> <span v-html="md(p.comment)"></span>
                </div>
                <div>returns {{ s.returns }}</div>
              </div>
            </div>
          </div>
        </div>
      
        <div v-if="contents.accessors && contents.accessors.length > 0">
          <h3>Accessors</h3>
          <div v-for="acc in contents.accessors">
            <h4 v-bind:id="'accessor_'+acc.name">
              {{ acc.name }}
              <span class="token" v-if="acc.getter">GET</span>
              <span class="token" v-if="acc.setter">SET</span>
            </h4>
            <div>
              <small v-if="acc.overrides">Overrides {{ acc.overrides }}</small>
              <small v-if="acc.inherits">Inherits {{ acc.inherits }}</small>
            </div>
            
            A {{ acc.getter.type || acc.setter.parameters.type || "" }} property. 
            <span v-html="md(acc.comment)"></span>
            
            <span v-if="acc.getter"><span v-html="md(acc.getter.comment)"></span></span>
            <span v-if="acc.setter"><span v-html="md(acc.setter.parameters.comment)"></span></span>
          </div>
        </div>


        <div v-if="(contents.variables && contents.variables.length > 0) || (contents.properties && contents.properties.length > 0)">
          <h3>Properties</h3>
          <div v-for="acc in contents.variables">
            <h4 v-bind:id="'property_'+acc.name">
              {{ acc.name }}
            </h4>
            <div v-html="md(acc.comment)"></div>
            <div>
              <small v-if="acc.overrides">Overrides {{ acc.overrides }}</small>
              <small v-if="acc.inherits">Inherits {{ acc.inherits }}</small>
            </div>          
          </div>

          <div v-for="acc in contents.properties">
            <h4 v-bind:id="'property_'+acc.name">
              {{ acc.name }}
            </h4>
            <div v-html="md(acc.comment)"></div>
            <div>
              <small v-if="acc.overrides">Overrides {{ acc.overrides }}</small>
              <small v-if="acc.inherits">Inherits {{ acc.inherits }}</small>
            </div>          
          </div>
        </div>

        <div v-if="contents.methods && contents.methods.length > 0">
          <h3>Methods</h3>
          <div v-for="m in contents.methods">
            <h4 v-bind:id="'function_'+m.name">
              <span v-if="m.flags && m.flags.isStatic">[static] </span>{{ m.name }}
            </h4>
            <div>
              <div>
                <small v-if="m.overrides">Overrides {{ m.overrides }}</small>
                <small v-if="m.inherits">Inherits {{ m.inherits }}</small>
              </div>
              <div v-for="s in m.signatures">
                <div v-html="md(s.comment)"></div>
                <div v-for="p in s.parameters">
                  <span>{{ p.name }} : {{ p.type}}</span> <span v-html="md(p.comment)"></span>
                </div>
                <div>returns {{ s.returns }}</div>
                <div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div v-if="contents.type_alias && contents.type_alias.length > 0">
          <h3>Types</h3>
          <div v-for="m in contents.type_alias"><span v-html="md(m)"></span></div>
        </div>

      </div>
    </div>

    <script type="text/javascript" src="./js/doc.js"></script>
  </body>
</html>